<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
	<title>OXO Cycle Tester</title>
	
	<link rel="stylesheet" href="css/styles.css" >
	<link rel="stylesheet" href="css/ui-lightness/jquery-ui.css" type="text/css" media="screen, projection"/>
	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/jquery-ui.js"></script>
	<script type="text/javascript" language="javascript" src="js/jquery.dropdownPlain.js"></script>
	<script src="js/main.js"></script>
    
	
	
	  <style>

  
  </style>
  
  
	<script>
  $(function() {
    
  	$("#defaultTab").addClass("newTabHTML");
	$("#defaultTab").attr("id","");
	var tabHTML=$(".newTabHTML").clone();
	$(".newTabHTML").attr("id","defaultTab");
	$("#defaultTab").removeClass("newTabHTML");
	
    var tabFresh = $( "#tabs" ).tabs();
	$(".slider").slider({
	  range: "min",
      value: 2,
      min: .1,
      max: 3,
      slide: function( event, ui ) {
        $( "#amount" ).val( "$" + ui.value );
      }
	  });
	
	$( "input[type=submit], button, .button" )
      .button()
      .click(function( event ) {
        event.preventDefault();
      });
	
	$( ".sortable" ).sortable({
	  items: "li:not(.head)",
      revert: true,
	  handle: ".portlet-header",
	  receive:function(){
	  refreshPortlets();
	  }
    });
    $( ".leftList li" ).draggable({
      connectToSortable: ".sortable",
	  handle: ".portlet-header",
      helper: "clone",
      revert: "invalid"
    });
    $( "ul, li" ).disableSelection();
	
	  $( ".leftList .portlet" )
      .addClass( "ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" )
      .find( ".portlet-header" )
        .addClass( "ui-widget-header ui-corner-all" )
        .prepend( "<span class='sortIcon ui-icon ui-icon-arrowthick-2-n-s'> <span class='ui-icon ui-icon-plusthick portlet-toggle'></span>");
		
		
	$( document ).on("click",".portlet-toggle",function(){
      var icon = $( this );
      icon.toggleClass( "ui-icon-minusthick ui-icon-plusthick" );
      icon.closest( ".portlet" ).find( ".portlet-content" ).toggle();
    });
  
	var tabCount=2;
	

	
	$("#newTab").click(function(){
	var li="<li><a id='tabtop"+tabCount+"' href='#Tab-"+tabCount+"' role='presentation'>Test "+tabCount+"</a></li>";
	$(li).insertBefore($("#newTab").parent());
	//tabFresh.find( ".ui-tabs-nav" ).append( li );
	tabFresh.append($(tabHTML.clone()));
	$(".newTabHTML").attr("id","#Tab-"+tabCount);
	$(".newTabHTML").attr("role","tabpanel");
	$(".newTabHTML").addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");
	$(".newTabHTML").removeClass("newTabHTML");
	
	// $( "#tabs" ).tabs();
	tabFresh.tabs("refresh");
	//$("#tabs").tabs('load', tabCount-2);
	tabCount++;
	refreshPortlets();
	
	});
	
	
	
  });
  

  function refreshPortlets(){

	
	$( ".spinner" ).spinner({
	  min: 1,
      step: 1,
      start: 1
	});
	
	
	$(".slider").slider();
   	$( "input[type=submit], button, .button" ).button();
	
	$( ".sortable" ).sortable({
	  items: "li:not(.head)",
      revert: true,
	  handle: ".portlet-header",
	  receive:function(){
	  refreshPortlets();
	  }
    });
    $( ".leftList li" ).draggable({
      connectToSortable: ".sortable",
	  handle: ".portlet-header",
      helper: "clone",
      revert: "invalid"
    });
    $( "ul, li" ).disableSelection();
	
	  $( ".sortable .portlet" )
      .addClass( "ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" )
      .find( ".portlet-header" )
      .addClass( "ui-state-highlight ui-corner-all" );

	
  }
  
  
  
  
  
  
  
  
  </script>
 
</head>
<body>

		<div id="header-wrap">
		
			<div id="logo">
			<p>&nbsp </p> 
			<a href="index.php">
			
				<img src="images/oxo_logo_top.jpg" alt="OXO Intranet" border="0" />
				<img src="images/labs.png" alt="OXO Intranet" border="0" />
			</a>
			<p>&nbsp </p>
			
			</div>
		
			<div id="navbar">
			
			<div id="inner-navbar">
			</div>
			</div>
	</div>
		
		
	<div id="content-wrap">
		
			<div id="tabs">
			  <ul>
				<li><a href="#defaultTab">Test 1</a></li>
				<li><a id="newTab" href="#newTabs">+</a></li>
			  </ul>
			  <div id="defaultTab">
				<div class="tabContent">
				  <ul class="leftList">
					 <li  class="">  
						<div class="portlet">
							<div class="portlet-header">Actuator</div>
							<div class="portlet-content" style="display:none">	
							<ul>
								<li><label>Actuator #</label>
									<select>
									  <option value="1">1</option>
									  <option value="2">2</option>
									  <option value="3">3</option>
									</select>								
								</li>
								<li>
									<div>Throw</div>
									<div class="slider actuatorSlider"></div>
									<div class="testBtn button">test</div>
								</li>
								<li>
									<div class="button actuatorBtn">use current</div></li>
								<li>
									<div>Motor Speed</div>
									<div class="slider actuatorSlider"></div>
								
								</li>
								<li>
									<div>frequency:every </div> 
									<div><input class="spinner"></div>
									<div>nth cycle</div></li>
							</ul>
							
							
							</div>
						</div>
					  </li>
					  <li  class="">  
						<div class="portlet">
							<div class="portlet-header">Stepper</div>
							<div class="portlet-content" style="display:none">
							<ul>
								<li><label>Stepper #</label>
									<select>
									  <option value="1">1</option>
									  <option value="2">2</option>
									  <option value="3">3</option>
									</select>								
								</li>
								<li>
									<div>degrees?</div>
									<div><input class="spinner"></div>
									<div class="testBtn button">test</div>
								</li>
								<li>
									<div>Motor Speed</div>
									<div class="slider actuatorSlider"></div>
								
								</li>
								<li><div>frequency:every </div> 
									<div><input class="spinner"></div>
									<div>nth cycle</div></li>
							</ul>
							
							</div>
						</div>
					  </li>
					  <li  class="">  
						<div class="portlet">
							<div class="portlet-header">Sensor</div>
							<div class="portlet-content" style="display:none">
								<ul>
									<li>Pick Sensor</li>
									<li>reading type</li>
									<li>other stuff</li>
									<li>
										<div>frequency:every </div> 
										<div><input class="spinner"></div>
										<div>nth cycle</div>
									</li>
								</ul>
							</div>
						</div>
					  </li>
					  <li  class="">  
						<div class="portlet">
							<div class="portlet-header">Camera</div>
							<div class="portlet-content" style="display:none">
								<ul>
									<li><div>frequency:every </div> <div><input class="spinner"></div><div>nth cycle</div></li>
								</ul>
							</div>
						</div>
					  </li>
					  <li  class="">  
						<div class="portlet">
							<div class="portlet-header">Pause</div> 
							<div class="portlet-content" style="display:none">
								<ul>
									<li>Pick Sensor</li>
									<li><input class="spinner">milliseconds</li>
									<li><div>frequency:every </div> <div><input class="spinner"></div><div>nth cycle</div></li>
								</ul>
							</div>
						</div>
					  </li>
				  </ul>
					<ul class="sortable connectedSortable">
					  <li class="ui-state-default head">Drag actions here</li>
					</ul>
				</div>
			  </div>
			  <div id="newTabs"></div>
			</div>
		
		
		
		
		

		</div>
<br class="clear"/>
</div>

		<div  id="footer" >
			<center>
			<p>  <a href="http://www.oxo.com/">www.oxo.com</a> </p><p> (c) 2011 OXO </p>
			</center>
		</div>
					
	
</body>

</html>
